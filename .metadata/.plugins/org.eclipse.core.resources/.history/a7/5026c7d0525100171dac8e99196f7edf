import java.io.IOException;
import java.io.PrintWriter;

public class Casino {
	/**
	 * globals
	 */
	
	final static float quarterValue = (float) 0.25;
	static int quartersInJar = 100;
	static int currMachine = 1;
	static int totalTimesPlayed = 0;
	static int mOneTotalTimesPlayed = 0;
	static int mTwoTotalTimesPlayed = 0;
	static int mThreeTotalTimesPlayed = 0;

  public static void main(String[] args) {
	  play();
  }
  
  /**
   * entry point method
   */
  static private void play() 
  {
	  while(quartersInJar > 0)
	  {
		  totalTimesPlayed++;
		  quartersInJar--;
		  
		  if(currMachine == 1)
		  {
			  mOneTotalTimesPlayed++;
			  updateAndOutputValues(mOneTotalTimesPlayed);
		  }
		  else if(currMachine == 2)
		  {
			  mTwoTotalTimesPlayed++;
			  updateAndOutputValues(mTwoTotalTimesPlayed);
		  }
		  else if(currMachine == 3)
		  {
			  mThreeTotalTimesPlayed++;
			  updateAndOutputValues(mThreeTotalTimesPlayed);
			  currMachine = 0;
		  }
		  
		  currMachine++;
		  
	  }
  }
  
  /**
   * update values and call print method when Vera wins
   * @param quartersInJar
   * @param paidQuarters
   */
  static private void updateAndOutputValues(int totalPaid)
  {
	  int paidQuarters = 0;
	  
	  if(totalPaid % 33 == 0)
	  {
		  paidQuarters = 25;
		  quartersInJar+=paidQuarters;
	  }
	  else if(totalPaid % 99 == 0)
	  {
		  paidQuarters = 75;
		  quartersInJar+=paidQuarters;
	  } 
	  else if(totalPaid % 7 == 0)
	  {
		  paidQuarters = 7;
		  quartersInJar+=paidQuarters;
	  }

	  float amountWon = getQuarterAmountInDollars(paidQuarters);
	  float dollarsInJar = getQuarterAmountInDollars(quartersInJar);
	  
	  printOutputToTxtFile(currMachine, amountWon, quartersInJar, dollarsInJar);
  }
  
  /**
   * convert quarters count to dollars
   * @param quartersCount
   * @return
   */
  static private float getQuarterAmountInDollars(int quartersCount) 
  {
	  float dollarAmount = quartersCount * quarterValue;
	  return dollarAmount;
  }
  
  /**
   * output results
   * @param currMachine
   * @param amountWon
   * @param quartersInJar
   * @param dollarsInJar
   */
  static private void printOutputToTxtFile(int currMachine, float amountWon, int quartersInJar, float dollarsInJar) 
  {
	  try
	  {
	    PrintWriter writer = new PrintWriter("src/casino.txt", "UTF-8");
	    System.out.println("Machine: " + currMachine);
	    System.out.println("Amount won: " + amountWon);
	    System.out.println("Remaining quartes in jar: " + quartersInJar);
	    System.out.println("Remaining dollars in jar: " + dollarsInJar);
	    System.out.println("");
	    System.out.println("=================");
	    System.out.println("");
	    writer.close();
	  } 
	  catch (IOException e) 
	  {
	   // do something
	  }
  }
  
}




